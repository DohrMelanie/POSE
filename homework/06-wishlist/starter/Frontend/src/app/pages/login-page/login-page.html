<section class="card login">
  <h1>Login</h1>
  <p class="hint">Enter your wishlist name and your PIN (child or parent).</p>

  <!-- Conditionally show error message -->
  @if(error()) {
  <div class="message error">{{ error() }}</div>
  }

  <form (submit)="onSubmit($event)">
    <div class="form-grid">
      <div class="field">
        <label for="wishlistName">Wishlist name</label>
        <!-- Add "invalid" class if the field is touched and invalid -->
        <input [class.invalid]="error() != null && loginForm.name().touched()" [field]="loginForm.name" id="wishlistName" type="text" />
        <!-- Conditionally show validation errors -->
        @if (loginForm.name().touched() && loginForm.name().invalid()) {
        <div class="error-messages">
          @for (error of loginForm.name().errors(); track error) {
          <span class="error-message">{{ error.message }}</span>
          }
        </div>
        }
      </div>

      <div class="field">
        <label for="pin">PIN</label>

        <!-- Add "invalid" class if the field is touched and invalid -->
        <input id="pin" [field]="loginForm.pin" [class.invalid]="loginForm.pin().invalid() && loginForm.pin().touched()" type="text" />
        <!-- Conditionally show validation errors -->
        @if (loginForm.pin().touched() && loginForm.pin().invalid()) {
        <div class="error-messages">
          @for (error of loginForm.pin().errors(); track error) {
          <span class="error-message">{{ error.message }}</span>
          }
        </div>
        }
      </div>
    </div>

    <div class="form-actions">
      <!--
        Disable the button if the form is invalid or currently saving.
      -->
      <button class="btn primary" type="submit" [disabled]="saving() || !loginForm().valid()">
        {{ saving() ? 'Signing in...' : 'Sign in' }}
      </button>
    </div>
  </form>
</section>
